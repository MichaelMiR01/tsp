See README.orig !!

These files are modified from the original langbench files by:

  1. including tsp annotation comments and proc commands.

  2. simplifying certain coding constructs, such as moving
     embedded commands in expr expressions before the expr,
     for, if, or while command.  Explicit return statments are
     coded where an implicit result was assumed (e.g., fib.tcl).

  3. wrapping the "main" code into a proc, (e.g., run_fib).

  4. providing a custom driver in tcl (RUN.tcl and RUN_PROG.tcl). The
     custom driver sources the tsp compiler and parser packages;
     warms up the tsp compiled benchmark proc by parsing and invoking 
     native compilation; loading the resulting class or shared library;
     running the benchmark proc a number of times before actual timing.

  5. timings are generated by the tcl "time" command, not the shell time
     command.  tcl "time" averages run times; the original benchmark 
     driver takes the minimum time out of three runs.

  6. TIMINGS DO NOT REPORT INTERPRETER STARTUP AND JIT COMPILE TIMES,
     which is different from the langbench "RUN" command.  Timings 
     for other reported languages should be adjusted downward, subtracting
     the time it takes to start the language runtime and parse each
     benchmark.


Create a "DATA" file using instructions from original README, set
TCL_SRC_DIR to your tcl8.6.x source directory:

	for i in 1 2 3 4 5 6 7 8 9 0; do
		cat $TCL_SRC_DIR/generic/*.[ch]
	done | head -1000000 > DATA


RUN.tcl requires tclsh8.6

To run using benchmarks with JTcl:  TSP_INTERP=jtsp tclsh8.6 RUN.tcl DATA
To run using benchmarks with CTcl:  TSP_INTERP=ctsp tclsh8.6 RUN.tcl DATA
